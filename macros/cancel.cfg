[gcode_macro CANCEL_PRINT]
description: Cancel the actual running print
rename_existing: CANCEL_PRINT_BASE
gcode:
  M117 Cancelling...
  STATUS_BUSY # set LEDs
  SET_IDLE_TIMEOUT TIMEOUT={printer.configfile.settings.idle_timeout.timeout} ; set timeout back to configured value
  CLEAR_PAUSE
  END_PRINT
  CANCEL_PRINT_BASE
  M117 Print cancelled. # update display
  STATUS_READY # set LEDs
